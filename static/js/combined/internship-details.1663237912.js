var user_email_input="";
$(document).ready(function(){user_email_input=$("#email").val();subscription_form_validate();$(".email-field-subscribe").keyup(function(){var user_email_input_update=$("#subscribe-form").find("#email").val();if(user_email_input!==user_email_input_update){user_email_input=user_email_input_update;prompt_for_correct_email("subscribe-form","email")}});$(".email-field-subscribe-marketing-right").keyup(function(){var user_email_input_update=$("#subscribe-form").find("#email").val();if(user_email_input!==
user_email_input_update){user_email_input=user_email_input_update;prompt_for_correct_email("subscribe-form","email")}});$(".subscribe-form-at-bottom-email").keyup(function(){var user_email_input_update=$("#subscribe-form-at-bottom").find("#email").val();if(user_email_input!==user_email_input_update){user_email_input=user_email_input_update;prompt_for_correct_email("subscribe-form-at-bottom","email")}})});
function subscription_form_validate(){$("#subscribe-form").validate({onfocusout:function(element){this.element(element)},rules:{email:{required:true,email:true}},errorPlacement:function(label,element){if(element.attr("name")==="email")label.insertAfter(element.closest(".input-group"));else label.insertAfter(element)},highlight:function(label){$(label).closest(".form-group").addClass("has-error");$(label).closest(".form-group").removeClass("has-success");$(label).closest("input").addClass("error");
$(label).closest("input").removeClass("valid")},success:function(label){$(label).closest(".form-group").addClass("has-success");$(label).closest(".form-group").removeClass("has-error");$(label).closest("input").addClass("valid");$(label).closest("input").removeClass("error")},submitHandler:function(){var currentUrl=window.location.href;$("#src_url").val(currentUrl);var data=$("#subscribe-form").serialize();var url="/subscribe/submit";NProgress.start();$(".loading_image").show();$.ajax(url,{data:data,
success:subscription_success,error:onError,type:"POST"});return false}});$("#subscribe-form-popup").validate({rules:{email:{required:true,email:true}},errorPlacement:function(label,element){if(element.attr("name")==="email")label.insertAfter(element.closest(".input-group"));else label.insertAfter(element)},highlight:function(label){$(label).closest(".form-group").addClass("has-error");$(label).closest(".form-group").removeClass("has-success");$(label).closest("input").addClass("error");$(label).closest("input").removeClass("valid")},
success:function(label){$(label).closest(".form-group").addClass("has-success");$(label).closest(".form-group").removeClass("has-error");$(label).closest("input").addClass("valid");$(label).closest("input").removeClass("error")},submitHandler:function(){var data=$("#subscribe-form-popup").serialize()+"&current_url="+window.location.href;var url="/subscribe/submit";NProgress.start();$(".loading_image").show();$.ajax(url,{data:data,success:subscription_success,error:onError,type:"POST"})}});$("#subscribe-form-popup-blog").validate({rules:{email:{required:true,
email:true}},errorPlacement:function(label,element){if(element.attr("name")==="email")label.insertAfter("#but_subscription_popup_form");else label.insertAfter(element)},highlight:function(label){$(label).closest(".form-group").addClass("has-error");$(label).closest(".form-group").removeClass("has-success");$(label).closest("input").addClass("error");$(label).closest("input").removeClass("valid")},success:function(label){$(label).closest(".form-group").addClass("has-success");$(label).closest(".form-group").removeClass("has-error");
$(label).closest("input").addClass("valid");$(label).closest("input").removeClass("error")},submitHandler:function(){var data=$("#subscribe-form-popup").serialize()+"&current_url="+window.location.href;var url="/subscribe/submit";NProgress.start();$(".loading_image").show();$.ajax(url,{data:data,success:subscription_success,error:onError,type:"POST"});return false}});$("#subscribe-form-at-bottom").validate({onfocusout:function(element){this.element(element)},rules:{email:{required:true,email:true}},
errorPlacement:function(label,element){label.insertAfter(element)},highlight:function(label){$(label).closest(".form-group").addClass("has-error");$(label).closest(".form-group").removeClass("has-success");$(label).closest("input").addClass("error");$(label).closest("input").removeClass("valid")},success:function(label){$(label).closest(".form-group").addClass("has-success");$(label).closest(".form-group").removeClass("has-error");$(label).closest("input").addClass("valid");$(label).closest("input").removeClass("error")},
submitHandler:function(){var data=$("#subscribe-form-at-bottom").serialize();var url="/subscribe/submit";NProgress.start();$(".loading_image").show();$.ajax(url,{data:data,success:subscription_success,error:onError,type:"POST"});return false}})}
var subscription_success=function(data){try{NProgress.done();$(".subscription_alert").hide();$(".modal-backdrop").hide();$("input[name='email']").val("");$(".backdrop").hide();if(data.subscriptionLocation=="subscription_popup_blog"){$(".blog_subscription_alert").hide();if(!data.success)parent.postMessage({blog:"resizePopup",status:"error"},"*");else parent.postMessage({blog:"resizePopup",status:"success"},"*");$(".modal").css("padding-left","0px");$(".modal").css("padding-right","0px");$(".modal-dialog").css("margin",
"0px 0px")}if(!data.success)throw_error(data.errorThrown);else throw_success(data.successMsg);if(data.subscriptionLocation=="subscription_popup_blog")$(".modal").css("padding-right","0px")}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}};function throw_success_blog(successMsg){$(".semi_success_modal_blog .text-message").html(successMsg);$(".semi_success_modal_blog").show()}
function throw_error_blog(errorThrown){if(errorThrown.validationError){throw_validation_error(errorThrown.validationError);return}$(".semi_error_modal_blog .text-message").html(errorThrown);$(".semi_error_modal_blog").show()};function filter_ads(){var isAppModalVisible=false;$(window).scroll(function(){var window_top=$(window).scrollTop();var reference_top=typeof $("#reference").offset()!="undefined"?$("#reference").offset().top:false;var container_height=typeof $("#internship_list_container").offset()!="undefined"?$("#internship_list_container").offset().top:false;if(reference_top!==false&&container_height!==false){if($("#end_internship_search_page_message_container").length!=0)if(isScrolledIntoView("#end_internship_search_page_message_container"))$("#subscription_content").slideUp();
else $("#subscription_content").slideDown();if(window.innerWidth>768)if(!isScrolledIntoView("#footer"))if(reference_top<window_top){$("#fixed_ads").css("position","fixed");$("#fixed_ads").css("top","15px");$("#fixed_ads").css("bottom","auto")}else $("#fixed_ads").css("position","static");else{var fixed_ads_relative_position=Math.max(0,$(this).scrollTop()-175);var fixed_ads_relative_position=Math.min($("#footer").offset().top-920,fixed_ads_relative_position);var search_criterias_relative_position=
Math.max(0,$(this).scrollTop()-200);var search_criterias_relative_position=Math.min($("#footer").offset().top-920,search_criterias_relative_position);if(search_criterias_relative_position<0)search_criterias_relative_position=0;if(fixed_ads_relative_position<0)fixed_ads_relative_position=0;$("#fixed_ads").css("position","relative");$("#fixed_ads").css("top",fixed_ads_relative_position)}else $("#fixed_ads").css("position","static")}})}
function make_ajax_call_for_marketing_ads(){var pathArray=window.location.pathname.split("/");var new_url="";if(pathArray[1]=="internships"||pathArray[1]=="internship"&&pathArray[2]=="search"){pathArray=pathArray.slice(2);new_url=pathArray.join("/");marketing(new_url+window.location.search)}}var marketing=function(url){var final_url="/internships_marketing_ajax/";final_url=final_url+url;$.ajax(final_url,{type:"GET",success:marketing_success,error:onError,datatype:"text"});return false};
var marketing_success=function(data){try{var marketing_right_container_html=data.marketing_right_container_html;var marketing_first_container_html=data.marketing_first_container_html;$("#marketing_right_container").html(marketing_right_container_html);$("#marketing_first_container").html(marketing_first_container_html);subscription_form_validate();$("#marketing_first_container").show()}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}};var is_skill_training_clicked=0;
$(document).ready(function(){filter_ads();$(document).on("click","#back_to_search",function(e){e.preventDefault();window.history.back()});$(document.body).on("click",".copy_button",function(){var copy_text=$("<input>");$(this).append(copy_text);var text_to_copy=$(this).attr("data-id");if(navigator.userAgent.match(/ipad|ipod|iphone/i)){copy_text.val($("#"+text_to_copy).val());var el=copy_text.get(0);var editable=el.contentEditable;var readOnly=el.readOnly;el.contentEditable=true;el.readOnly=false;
var range=document.createRange();range.selectNodeContents(el);var sel=window.getSelection();sel.removeAllRanges();sel.addRange(range);el.setSelectionRange(0,999999);el.contentEditable=editable;el.readOnly=readOnly}else copy_text.val($("#"+text_to_copy).val()).select();document.execCommand("copy");$(".copy_button").popover("destroy");$(".copy_button").popover({placement:"top",html:true,content:"<span id='popover_text'>Link copied to the clipboard</span>"});$(".copy_button").popover("show");setTimeout(function(){$(".copy_button").popover("hide")},
1E3);copy_text.remove()});$(document.body).on("click",".share_copy_button",function(){var copy_text=$("<input>");$(this).append(copy_text);var text_to_copy=$(this).attr("data-id");if(navigator.userAgent.match(/ipad|ipod|iphone/i)){copy_text.val($("#"+text_to_copy).val());var el=copy_text.get(0);var editable=el.contentEditable;var readOnly=el.readOnly;el.contentEditable=true;el.readOnly=false;var range=document.createRange();range.selectNodeContents(el);var sel=window.getSelection();sel.removeAllRanges();
sel.addRange(range);el.setSelectionRange(0,999999);el.contentEditable=editable;el.readOnly=readOnly}else copy_text.val($("#"+text_to_copy).val()).select();document.execCommand("copy");$(".share_copy_button").popover("destroy");$(".share_copy_button").popover({placement:"top",html:true,content:"<span id='popover_text'>Link copied to the clipboard</span>"});$(".share_copy_button").popover("show");setTimeout(function(){$(".share_copy_button").popover("hide")},1E3);copy_text.remove()});function get_transaction_source(element){if(element.hasClass("priority_processing"))return"priority_upgrade_modal";
else return"instant_approval_modal"}$(document).on("click",".upgrade_now",function(){var transaction_source=get_transaction_source($(this));window.location.href="/internship/create_transaction/"+internship_id+"/"+transaction_source+"/per_post"});$(document).on("click","#1_month_plan_cta",function(){var transaction_source=get_transaction_source($(this));window.location.href="/internship/create_transaction/"+internship_id+"/"+transaction_source+"/1_month"});$(document).on("click","#12_months_plan_cta",
function(){var transaction_source=get_transaction_source($(this));window.location.href="/internship/create_transaction/"+internship_id+"/"+transaction_source+"/12_months"});$(document).on("click","#bp1_per_post",function(){window.location.href="/internship/create_transaction/"+internship_id+"/instant_approval_modal"+"/bp1_per_post"});$(document).on("click","#bp2_per_post",function(){window.location.href=window.location.href="/internship/create_transaction/"+internship_id+"/instant_approval_modal"+
"/bp2_per_post"});if(window.innerWidth>425)$(window).bind("popstate",function(event){location.reload()});seo_heading();approve_internship();internship_status_messages();popovers();show_and_hide_subscription_plans();$(".skill_training").on("mousedown touch tap taphold",function(e){if(is_skill_training_clicked===0){is_skill_training_clicked=1;if(typeof dataLayer!=="undefined")dataLayer.push({"event":"trainings_link_click","eventCategory":"trainings_link","eventAction":"click","eventLabel":"trainings_link"})}});
if(typeof dataLayer!=="undefined"&&(mainRole=="student"||mainRole=="guest")&&typeof is_internship_active!="undefined"&&!is_internship_active){dataLayer.push({"event":"expired_internship_loaded","eventCategory":"application_closed_warning_message_on_expired_internships_details_page","eventAction":"impression_application_closed_message"});dataLayer.push({"event":"details_page_view","view":"expired_internship_loaded"})}$(".cpy_button").click(function(e){e.preventDefault();var copy_text=$("<input>");
$(this).append(copy_text);var popover_content="";copy_text.val($("#link").val()).select();document.execCommand("copy");popover_content="<span id='copytext_popover_text'>Link copied to the clipboard</span>";$(".copy_button_popover").popover({placement:"bottom",html:true,trigger:"manual",content:popover_content});$(".copy_button_popover").popover("show");$("#copytext_popover_text").closest(".popover").find(".arrow").remove();setTimeout(function(){$(".copy_button_popover").popover("hide")},3E3);copy_text.remove()});
$(".bookmark").click(function(e){e.preventDefault();var button=document.getElementById("bookmark");var data=button.getAttribute("data-state");if(data==="add")add_to_bookmark();else{button.setAttribute("data-state","add");remove_bookmark()}});$(".training_link_tag").click(function(e){e.preventDefault();var url=$(this).attr("data-url");if(window.innerWidth<=767)window.open(url,"_self");else window.open(url,"_blank")});track_banner();$("#application_modal_close").click(function(e){$("#application_modal_close_confirm").modal("show");
track_ga_events("easy_apply","easy_apply_close","click")});$("#easy_apply_button").click(function(e){reset_form_validations("application-form");$("#application_modal").modal("show");track_ga_events("easy_apply","easy_apply_button","click")});$("#application_modal_close_confirm_cancel").click(function(e){$("#application_modal_close_confirm").modal("hide");$("body").addClass("modal-open")});$("#application_modal_close_confirm_exit").click(function(e){$("#application_modal_close_confirm").modal("hide");
$("#application_modal").modal("hide");if(typeof coverLetter!=="undefined"&&coverLetter!==null&&coverLetter!=="")$(".copy_cover_letter_button").show();if($("#bookmark_application_modal").is(":checked"))add_to_bookmark();$("#application-form")[0].reset();$(".ql-editor").html("");$("#cover_letter").val("");$("#locations").chosen("destroy");$("#locations").chosen();reset_form_validations("application-form")});$(document).on("click","#resume_edit_icon",function(){track_ga_events("easy_apply","resume_edit_icon",
"click")});$(document).on("click",".close_action",function(){$("#application_modal").modal("hide")});if($("#easy_apply_button").length)track_ga_events("easy_apply","easy_apply_button","view")});var approve_internship_success=function(data){try{NProgress.done();$(".loading_image").hide();if(!data.success)throw_error(data.errorThrown);else if(window.opener)window.close();else window.location=data.successPage}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}};
var seo_heading=function(){$("#content_open_button").toggle(function(){$("#content_open_button").removeClass("ic-16-chevron-down").addClass("ic-16-chevron-up");$("#open_content_collapse").slideDown()},function(){$("#content_open_button").removeClass("ic-16-chevron-up").addClass("ic-16-chevron-down");$("#open_content_collapse").slideUp()})};
function internship_status_messages(){var internship_status=$("#status").val();if(internship_status==="draft"&&mainRole!=="admin")if(employment_type=="job")internshala_alert("This is how your job posting would appear on Internshala website. If you wish to make any changes, click on 'Edit' button below at the end of the page or else, click on 'Post Job' button at the top of the page.");else internshala_alert("This is how your internship posting would appear on Internshala website. If you wish to make any changes, click on 'Edit' button below at the end of the page or else, click on 'Post Internship' button at the end of the page.");
else if(internship_status==="pending review"&&mainRole!=="admin"){if(typeof internship_posting_success_message!=="undefined"&&internship_posting_success_message)if(typeof internship_type!=="undefined"&&internship_type=="ibsi")throw_semi_success(internship_posting_success_message,"Okay");else if(typeof to_show_premium_prompt!=="undefined"&&to_show_premium_prompt==1)throw_premium_prompt_modal();else internshala_alert(internship_posting_success_message,"","Okay")}else if(typeof is_internship_auto_approved!=
"undefined"&&is_internship_auto_approved==1&&mainRole!=="admin")if(internship_status==="active"&&is_checked_and_not_premium_eligible&&mainRole!=="admin")throw_success(internship_posting_success_message,"","Okay");else if(typeof to_show_premium_prompt!=="undefined"&&to_show_premium_prompt==1)throw_premium_prompt_modal();else if(typeof to_show_invite_applicant!=="undefined"&&to_show_invite_applicant)throw_invite_applicant_success("/employer/applications/"+internship_id+"/1/invite?source=auto_approve_modal");
else throw_success("Congratulations, your internship has been auto approved and is now live. You should start receiving applications soon. ","","Okay");else if(typeof is_internship_sent_for_followup_for_unpaid!="undefined"&&is_internship_sent_for_followup_for_unpaid==1&&mainRole!=="admin")internshala_alert("Kindly note that you've posted an unpaid internship. We allow unpaid internships only in case of NGOs/ NPOs or niche profiles. Please update the stipend amount by clicking \u2018Edit internship\u2019 button at the bottom of this page.");
else if(typeof is_internship_sent_for_followup_for_less_stipend!="undefined"&&is_internship_sent_for_followup_for_less_stipend==1&&mainRole!=="admin")internshala_alert("As per our policy, we allow a minimum assured stipend of Rs.2000/month for an in-office internship and Rs.1000/month for a work from home internship. Please review the stipend amount by clicking \u2018Edit internship\u2019 button at the bottom of this page.")}
function approve_internship(){$("#approve_internship").click(function(e){e.preventDefault();var bool=confirm("Are you sure you want to make this "+employment_type+" Live ?");if(bool){var data={"id":internship_id,"status":"active","source":"detailPageAdmin"};var url="/admin/change_internship_status/";NProgress.start();$(".loading_image").show();$.ajax(url,{data:data,success:approve_internship_success,error:onError,type:"POST"})}})}
function throw_premium_prompt_modal(){var internship_status=$("#status").val();$(".dashboard_container").hide();$("#premium_prompt #banner").addClass("approval_banner");$(".ats_invite_popup_container").hide();$(".ats_invite_cta_popup_container").hide();$("#premium_prompt").attr("data-keyboard","false");$("#premium_prompt").attr("data-backdrop","static");$("#approval_promotion_container").show();$("#premium_prompt .approval_banner").css("border-top-left-radius","unset");bulk_plan_common("#premium_prompt",
false);if(internship_status=="pending review"){$("#premium_prompt").addClass("priority_processing");$("#banner").addClass("priority_processing_banner");var today=new Date;var time=today.getHours();var approval_time;if(time>=9&&time<18)approval_time="within 2 hours";else if(time>=18&&time<24)approval_time="by 10:30 AM tomorrow";else approval_time="by 10:30 AM today";$("#premium_prompt #banner").find(".highlight_text").html('priority approval <span class="approval_time">'+approval_time+"</span>");$("#premium_prompt button").addClass("priority_processing");
$("#approval_promotion_container span").html("72");$("#premium_prompt .feature_section_heading").html("What more will you get?")}else{$("#premium_prompt #banner").find(".highlight_text").html("instant approval");$("#premium_prompt").addClass("auto_approval_prompt");$("#banner").addClass("instant_approval_banner");$("#premium_prompt .feature_section_heading").html("What will you get?")}$("#premium_prompt").modal("show");show_internship_offer_timer_if_exist("#premium_prompt")}$(".no_thanks").click(function(){$("#premium_prompt").modal("hide")});
function throw_invite_applicant_success(successPage){$msg="Congratulations, your internship has been auto approved and is now live. You should start receiving applications soon."+"<br><br>"+"Meanwhile, you can start inviting relevant candidates with a profile matching your internship requirements.";success_modal($msg,successPage,"Invite applicants","",true,"Cancel")}
function popovers(){var is_window_res_lt_768=$(window).width()<768;$(".rewards_popover").each(function(){$(this).popover({trigger:"hover",container:"body",placement:"bottom",html:true,sanitize:false,content:'<div class="close_tooltip_container"></div><div class="popover-content">'+$(this).attr("popover_content")+"</div>"})});$(".probation-tooltip-cta").popover({trigger:"click",placement:is_window_res_lt_768?"top":"right",html:true,template:'<div class="probation-popover popover popover-dark"><div class="arrow"></div><div class="popover-inner"><div class="popover-body"></div></div></div>',
sanitize:false,boundary:"window",content:"<span><i id='probation_popover_close_cta' class='ic-24-cross'></i></span><div>Probation is a period of trial where the employer gives you time to learn the skills required for the job, which helps you and the employer check whether you are suitable for the role.</div>"});$(document.body).on("click","#probation_popover_close_cta",function(){$(".probation-tooltip-cta").popover("hide")});if(is_window_res_lt_768)$(".probation-tooltip-cta").on("click",function(){var left=
$(".probation-tooltip-cta").position().left+"px";$(".probation-popover .arrow").css("left",left)});$("body").on("click",function(e){if($(e.target).closest(".probation-tooltip-cta").length===0&&$(e.target).closest(".probation-popover").length===0)$(".probation-tooltip-cta").popover("hide")})}
function add_to_bookmark(){if(typeof dataLayer!="undefined"){dataLayer.push({"event":"bookmark_added_from_detail","eventCategory":"premium_features","eventAction":"click","eventLabel":"bookmark_added"});dataLayer.push({"event":"bookmark_click","click":"added_from_detail"})}var data={"id":internship_id};var url="/bookmark/add_to_bookmark/";$.ajax(url,{data:data,success:added_to_bookmark,error:onError,type:"POST"})}
var added_to_bookmark=function(data){var button=document.getElementById("bookmark");button.setAttribute("data-state","added");if(!data.is_already_bookmarked)general_toast(data.message);$("#bookmark").html('<i class="ic-24-filled-bookmark bookmark-icon"></i>')};function remove_bookmark(){var data={"id":internship_id};var url="/bookmark/remove_bookmark/";$.ajax(url,{data:data,success:removed_bookmark,error:onError,type:"POST"})}
var removed_bookmark=function(data){if(!data.success)throw_error(data.errorThrown);else{general_toast(data.message);$("#bookmark").html('<i class="ic-24-bookmark bookmark-icon"></i>')}};
function show_and_hide_subscription_plans(){$(document).on("click",".subscription_plan_toggle_container",function(){if($(".subscription_plan_card_container").is(":visible")){$(".subscription_plan_card_container").hide();$(".subscription_plan_toggle_container .ic-16-chevron-down").show();$(".subscription_plan_toggle_container .ic-16-chevron-up").hide()}else{$(".subscription_plan_card_container").css("display","flex");$(".subscription_plan_toggle_container .ic-16-chevron-down").hide();$(".subscription_plan_toggle_container .ic-16-chevron-up").show()}})}
function track_banner(){var to_track_view=false;var category=$("#detail-banner-image").attr("data-category");var action=$("#detail-banner-image").attr("data-action");var label=$("#detail-banner-image").attr("data-label");if(category&&action&&label){if(category=="SO_DS_detail"||category=="SO_DM_detail"||category=="SO_HRM_detail"||category=="SO_FSW_detail"){to_track_view=true;is_specialization_banner_ad=true}if(to_track_view){dataLayer.push({"event":"specialization_dashboard_banners","eventCategory":category,
"eventAction":action,"eventLabel":label});dataLayer.push({"event":"details_page_view","view":category+"_banner"})}}}function track_ga_events(category,label,action){dataLayer.push({"event":"easy_apply","eventCategory":category,"eventAction":action,"eventLabel":label});dataLayer.push({"event":"easy_apply_track","tracking_info":action+"_"+label})};$(document).ready(function(){setTimeout(function(){if($("#credential_picker_container").length){dataLayer.push({"event":"google_one_tap","eventCategory":"google_one_tap","eventAction":"view","eventLabel":"view"});dataLayer.push({"event":"google_one_tap_view","view":"view"})}},1E3)});
function handle_one_tap_credential_response(response){dataLayer.push({"event":"google_one_tap","eventCategory":"google_one_tap","eventAction":"click","eventLabel":"click"});dataLayer.push({"event":"google_one_tap_click","click":"click"});var csrf_name=$("#csrf_google_one_tap").attr("name");var csrf_value=$("#csrf_google_one_tap").attr("value");response[csrf_name]=csrf_value;if(typeof page!=="undefined"&&typeof job_url!=="undefined")if(page==="details"){response["referral"]="detail";response["job_url"]=
job_url}else response["referral"]="search";$.ajax("/login/google_one_tap",{type:"POST",success:handle_one_tap_sign_in_success,error:onError,data:response});NProgress.start();$(".loading_image").show()}
var handle_one_tap_sign_in_success=function(data){NProgress.done();$(".loading_image").hide();try{if(!data.success){error_modal(data.error,null,data.error_button);dataLayer.push({"event":"google_one_tap","eventCategory":"google_one_tap","eventAction":"click","eventLabel":"user_error"});dataLayer.push({"event":"google_one_tap_click","click":"user_error"})}else{if(data.type){dataLayer.push({"event":"google_one_tap","eventCategory":"google_one_tap","eventAction":"click","eventLabel":data.type});dataLayer.push({"event":"google_one_tap_click",
"click":data.type})}if(data.success_page==="reload")location.reload();else window.location.href=data.success_page}}catch(e){throw_error(e)}};var user_email_input=$("#email").val();
$(document).ready(function(){$("#first_name, #last_name").attr("autocomplete","none");update_banner_height();$(window).on("resize",function(){update_banner_height()});$(".email-field-student-registration").keyup(function(){var user_email_input_update=$("#email").val();if(user_email_input!==user_email_input_update){user_email_input=user_email_input_update;prompt_for_correct_email("registration-form","email")}});if(typeof job_url!="undefined"&&job_url){var interstitialUrl="/json/student/interstitial/application/"+
job_url;if($(window).width()>575){$("#registration_modal_ellipse_container").remove();$(".apply-now-cta").on("click",function(){fire_ga_event_on_apply_now_cta_click();$.get(interstitialUrl,{},function(){$("#registration_modal").modal("show")})})}else{$("#registration_modal").remove();load_ellipse_modal("#registration_modal_ellipse",function(cb){fire_ga_event_on_apply_now_cta_click();$.get(interstitialUrl,{},function(){cb()})})}}$("#registration-form").validate({onfocusout:function(element){if(element.type!==
"checkbox")this.element(element)},groups:{phone_number:"country_code phone_primary"},rules:{first_name:{required:true,user_name:true,maxlength:100},last_name:{user_name:true,maxlength:100},email:{required:true,email:true,maxlength:100},password:{required:true,minlength:6}},errorPlacement:function(label,element){label.insertAfter(element)},highlight:function(label){$(label).closest(".form-group").addClass("has-error");$(label).closest(".form-group").removeClass("has-success");$(label).closest("input").addClass("error");
$(label).closest("input").removeClass("valid")},success:function(label){$(label).closest(".form-group").addClass("has-success");$(label).closest(".form-group").removeClass("has-error");$(label).closest("input").addClass("valid");$(label).closest("input").removeClass("error")},submitHandler:function(){if(typeof to_show_recaptcha!="undefined"&&to_show_recaptcha!=null&&to_show_recaptcha==1){grecaptcha.ready(function(){grecaptcha.execute(is_g_recaptcha,{action:"registration_submit"}).then(function(token){registration_submit(token)})});
return false}else registration_submit()}});if(typeof dataLayer!="undefined")dataLayer.push({"Referrer":"https://internshala.com"})});
function fire_ga_event_on_apply_now_cta_click(){if(typeof dataLayer!="undefined"&&typeof is_user_mapped_to_given_device_key!="undefined")if(is_user_mapped_to_given_device_key){dataLayer.push({"event":"details_page_apply_now_click","eventCategory":"returning","eventAction":"click","eventLabel":"apply_now"});dataLayer.push({"event":"details_page_click","click":"returning"})}else{dataLayer.push({"event":"details_page_apply_now_click","eventCategory":"non_returning","eventAction":"click","eventLabel":"apply_now"});
dataLayer.push({"event":"details_page_click","click":"non_returning"})}}
function registration_submit(token){token=token===undefined?null:token;var data=$("#registration-form").serializeArray();if(typeof job_url!="undefined"&&$(window).width()>575)$("#registration_modal").modal("hide");else if(typeof job_url!="undefined"&&typeof close_ellipse_modal!="undefined")close_ellipse_modal("#registration_modal_ellipse_container");if(typeof token!="undefined"&&token!=null)data.push({name:"g-recaptcha-response",value:token});var url="/registration/student_submit";NProgress.start();
$(".loading_image").show();$.ajax(url,{data:data,success:registration_success,error:onError,type:"POST"});return false}
var registration_success=function(data){try{NProgress.done();if(!data.success)if(typeof data.errorPage!=="undefined")throw_error(data.errorThrown,data.errorPage);else throw_error(data.errorThrown);else{goog_report_conversion();if(typeof dataLayer!="undefined"){dataLayer.push({"event":"student_signup","eventCategory":"student_signup","eventAction":"student_signup_success","eventLabel":data.successLabel});dataLayer.push({"event":"students_signup","tracking_info":"student_signup_success_"+data.successLabel})}var image=
new Image(1,1);image.src="//conv.indeed.com/pagead/conv/9459742475614127/?script=0";throw_success(data.successMsg,data.successPage,"",true)}}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}};
function update_banner_height(){var footer_height=$("#footer").outerHeight();var header_height=$(".header_container").outerHeight();$("#content").css("padding-bottom",footer_height);var window_height=window.innerHeight;var window_width=window.innerWidth;var background_image_height=0;var min_window_height=window_height-footer_height-header_height;if(window_width>=1024)background_image_height=window_height-42-header_height;if(background_image_height<min_window_height)$("#content-inner").css("min-height",
min_window_height);else $("#content-inner").css("min-height",background_image_height)};function load_ellipse_modal(id,cb){cb=cb===undefined?null:cb;var modal_container_id=id+"_container";var close_modal_id=id+"_close";var overlay_close_selector=modal_container_id+" .overlay";$(document).on("click",id,function(){if(cb)cb(function(){return open_ellipse_modal(modal_container_id)});else open_ellipse_modal(modal_container_id)});$(document).on("click",close_modal_id,function(e){e.preventDefault();close_ellipse_modal(modal_container_id)});$(document).on("click",overlay_close_selector,function(e){e.preventDefault();
close_ellipse_modal(modal_container_id)})}function open_ellipse_modal(modal_container_id){$(modal_container_id).addClass("open");var scrollTop=$("html").scrollTop()?$("html").scrollTop():$("body").scrollTop();$("html").addClass("no_scroll").css("top",-scrollTop)}function close_ellipse_modal(modal_container_id){var scrollTop=parseInt($("html").css("top"));$(modal_container_id).removeClass("open");$("html").removeClass("no_scroll").css("top","");$("html,body").scrollTop(-scrollTop)};/*
 Chosen, a Select Box Enhancer for jQuery and Prototype
by Patrick Filler for Harvest, http://getharvest.com

Version 1.8.7
Full source at https://github.com/harvesthq/chosen
Copyright (c) 2011-2018 Harvest http://getharvest.com

MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md
This file is generated by `grunt build`, do not edit it by hand.
*/
(function(){var $,AbstractChosen,Chosen,SelectParser,bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){for(var key in parent)if(hasProp.call(parent,key))child[key]=parent[key];function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty;SelectParser=function(){function SelectParser(){this.options_index=0;this.parsed=[]}SelectParser.prototype.add_node=
function(child){if(child.nodeName.toUpperCase()==="OPTGROUP")return this.add_group(child);else return this.add_option(child)};SelectParser.prototype.add_group=function(group){var group_position,i,len,option,ref,results1;group_position=this.parsed.length;this.parsed.push({array_index:group_position,group:true,label:group.label,title:group.title?group.title:void 0,children:0,disabled:group.disabled,classes:group.className});ref=group.childNodes;results1=[];for(i=0,len=ref.length;i<len;i++){option=ref[i];
results1.push(this.add_option(option,group_position,group.disabled))}return results1};SelectParser.prototype.add_option=function(option,group_position,group_disabled){if(option.nodeName.toUpperCase()==="OPTION"){if(option.text!==""){if(group_position!=null)this.parsed[group_position].children+=1;this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:option.value,text:option.text,html:option.innerHTML,title:option.title?option.title:void 0,selected:option.selected,
disabled:group_disabled===true?group_disabled:option.disabled,group_array_index:group_position,group_label:group_position!=null?this.parsed[group_position].label:null,classes:option.className,style:option.style.cssText})}else this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true});return this.options_index+=1}};return SelectParser}();SelectParser.select_to_array=function(select){var child,i,len,parser,ref;parser=new SelectParser;ref=select.childNodes;for(i=0,
len=ref.length;i<len;i++){child=ref[i];parser.add_node(child)}return parser.parsed};AbstractChosen=function(){function AbstractChosen(form_field,options1){this.form_field=form_field;this.options=options1!=null?options1:{};this.label_click_handler=bind(this.label_click_handler,this);if(!AbstractChosen.browser_is_supported())return;this.is_multiple=this.form_field.multiple;this.set_default_text();this.set_default_values();this.setup();this.set_up_html();this.register_observers();this.on_ready()}AbstractChosen.prototype.set_default_values=
function(){this.click_test_action=function(_this){return function(evt){return _this.test_active_click(evt)}}(this);this.activate_action=function(_this){return function(evt){return _this.activate_field(evt)}}(this);this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className);this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&
this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||false;this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:true;this.group_search=this.options.group_search!=null?this.options.group_search:true;this.search_contains=this.options.search_contains||false;this.single_backstroke_delete=this.options.single_backstroke_delete!=
null?this.options.single_backstroke_delete:true;this.max_selected_options=this.options.max_selected_options||Infinity;this.inherit_select_classes=this.options.inherit_select_classes||false;this.display_selected_options=this.options.display_selected_options!=null?this.options.display_selected_options:true;this.display_disabled_options=this.options.display_disabled_options!=null?this.options.display_disabled_options:true;this.include_group_label_in_selected=this.options.include_group_label_in_selected||
false;this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY;this.case_sensitive_search=this.options.case_sensitive_search||false;return this.hide_results_on_select=this.options.hide_results_on_select!=null?this.options.hide_results_on_select:true};AbstractChosen.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder"))this.default_text=this.form_field.getAttribute("data-placeholder");else if(this.is_multiple)this.default_text=this.options.placeholder_text_multiple||
this.options.placeholder_text||AbstractChosen.default_multiple_text;else this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||AbstractChosen.default_single_text;this.default_text=this.escape_html(this.default_text);return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||AbstractChosen.default_no_result_text};AbstractChosen.prototype.choice_label=function(item){if(this.include_group_label_in_selected&&item.group_label!=
null)return"<b class='group-name'>"+this.escape_html(item.group_label)+"</b>"+item.html;else return item.html};AbstractChosen.prototype.mouse_enter=function(){return this.mouse_on_container=true};AbstractChosen.prototype.mouse_leave=function(){return this.mouse_on_container=false};AbstractChosen.prototype.input_focus=function(evt){if(this.is_multiple){if(!this.active_field)return setTimeout(function(_this){return function(){return _this.container_mousedown()}}(this),50)}else if(!this.active_field)return this.activate_field()};
AbstractChosen.prototype.input_blur=function(evt){if(!this.mouse_on_container){this.active_field=false;return setTimeout(function(_this){return function(){return _this.blur_test()}}(this),100)}};AbstractChosen.prototype.label_click_handler=function(evt){if(this.is_multiple)return this.container_mousedown(evt);else return this.activate_field()};AbstractChosen.prototype.results_option_build=function(options){var content,data,data_content,i,len,ref,shown_results;content="";shown_results=0;ref=this.results_data;
for(i=0,len=ref.length;i<len;i++){data=ref[i];data_content="";if(data.group)data_content=this.result_add_group(data);else data_content=this.result_add_option(data);if(data_content!==""){shown_results++;content+=data_content}if(options!=null?options.first:void 0)if(data.selected&&this.is_multiple)this.choice_build(data);else if(data.selected&&!this.is_multiple)this.single_set_selected_text(this.choice_label(data));if(shown_results>=this.max_shown_results)break}return content};AbstractChosen.prototype.result_add_option=
function(option){var classes,option_el;if(!option.search_match)return"";if(!this.include_option_in_results(option))return"";classes=[];if(!option.disabled&&!(option.selected&&this.is_multiple))classes.push("active-result");if(option.disabled&&!(option.selected&&this.is_multiple))classes.push("disabled-result");if(option.selected)classes.push("result-selected");if(option.group_array_index!=null)classes.push("group-option");if(option.classes!=="")classes.push(option.classes);option_el=document.createElement("li");
option_el.className=classes.join(" ");if(option.style)option_el.style.cssText=option.style;option_el.setAttribute("data-option-array-index",option.array_index);option_el.innerHTML=option.highlighted_html||option.html;if(option.title)option_el.title=option.title;return this.outerHTML(option_el)};AbstractChosen.prototype.result_add_group=function(group){var classes,group_el;if(!(group.search_match||group.group_match))return"";if(!(group.active_options>0))return"";classes=[];classes.push("group-result");
if(group.classes)classes.push(group.classes);group_el=document.createElement("li");group_el.className=classes.join(" ");group_el.innerHTML=group.highlighted_html||this.escape_html(group.label);if(group.title)group_el.title=group.title;return this.outerHTML(group_el)};AbstractChosen.prototype.results_update_field=function(){this.set_default_text();if(!this.is_multiple)this.results_reset_cleanup();this.result_clear_highlight();this.results_build();if(this.results_showing)return this.winnow_results()};
AbstractChosen.prototype.reset_single_select_options=function(){var i,len,ref,result,results1;ref=this.results_data;results1=[];for(i=0,len=ref.length;i<len;i++){result=ref[i];if(result.selected)results1.push(result.selected=false);else results1.push(void 0)}return results1};AbstractChosen.prototype.results_toggle=function(){if(this.results_showing)return this.results_hide();else return this.results_show()};AbstractChosen.prototype.results_search=function(evt){if(this.results_showing)return this.winnow_results();
else return this.results_show()};AbstractChosen.prototype.winnow_results=function(options){var escapedQuery,fix,i,len,option,prefix,query,ref,regex,results,results_group,search_match,startpos,suffix,text;this.no_results_clear();results=0;query=this.get_search_text();escapedQuery=query.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");regex=this.get_search_regex(escapedQuery);ref=this.results_data;for(i=0,len=ref.length;i<len;i++){option=ref[i];option.search_match=false;results_group=null;search_match=null;
option.highlighted_html="";if(this.include_option_in_results(option)){if(option.group){option.group_match=false;option.active_options=0}if(option.group_array_index!=null&&this.results_data[option.group_array_index]){results_group=this.results_data[option.group_array_index];if(results_group.active_options===0&&results_group.search_match)results+=1;results_group.active_options+=1}text=option.group?option.label:option.text;if(!(option.group&&!this.group_search)){search_match=this.search_string_match(text,
regex);option.search_match=search_match!=null;if(option.search_match&&!option.group)results+=1;if(option.search_match){if(query.length){startpos=search_match.index;prefix=text.slice(0,startpos);fix=text.slice(startpos,startpos+query.length);suffix=text.slice(startpos+query.length);option.highlighted_html=this.escape_html(prefix)+"<em>"+this.escape_html(fix)+"</em>"+this.escape_html(suffix)}if(results_group!=null)results_group.group_match=true}else if(option.group_array_index!=null&&this.results_data[option.group_array_index].search_match)option.search_match=
true}}}this.result_clear_highlight();if(results<1&&query.length){this.update_results_content("");return this.no_results(query)}else{this.update_results_content(this.results_option_build());if(!(options!=null?options.skip_highlight:void 0))return this.winnow_results_set_highlight()}};AbstractChosen.prototype.get_search_regex=function(escaped_search_string){var regex_flag,regex_string;regex_string=this.search_contains?escaped_search_string:"(^|\\s|\\b)"+escaped_search_string+"[^\\s]*";if(!(this.enable_split_word_search||
this.search_contains))regex_string="^"+regex_string;regex_flag=this.case_sensitive_search?"":"i";return new RegExp(regex_string,regex_flag)};AbstractChosen.prototype.search_string_match=function(search_string,regex){var match;match=regex.exec(search_string);if(!this.search_contains&&(match!=null?match[1]:void 0))match.index+=1;return match};AbstractChosen.prototype.choices_count=function(){var i,len,option,ref;if(this.selected_option_count!=null)return this.selected_option_count;this.selected_option_count=
0;ref=this.form_field.options;for(i=0,len=ref.length;i<len;i++){option=ref[i];if(option.selected)this.selected_option_count+=1}return this.selected_option_count};AbstractChosen.prototype.choices_click=function(evt){evt.preventDefault();this.activate_field();if(!(this.results_showing||this.is_disabled))return this.results_show()};AbstractChosen.prototype.keydown_checker=function(evt){var ref,stroke;stroke=(ref=evt.which)!=null?ref:evt.keyCode;this.search_field_scale();if(stroke!==8&&this.pending_backstroke)this.clear_backstroke();
switch(stroke){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:if(this.results_showing&&!this.is_multiple)this.result_select(evt);this.mouse_on_container=false;break;case 13:if(this.results_showing)evt.preventDefault();break;case 27:if(this.results_showing)evt.preventDefault();break;case 32:if(this.disable_search)evt.preventDefault();break;case 38:evt.preventDefault();this.keyup_arrow();break;case 40:evt.preventDefault();this.keydown_arrow();break}};AbstractChosen.prototype.keyup_checker=
function(evt){var ref,stroke;stroke=(ref=evt.which)!=null?ref:evt.keyCode;this.search_field_scale();switch(stroke){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)this.keydown_backstroke();else if(!this.pending_backstroke){this.result_clear_highlight();this.results_search()}break;case 13:evt.preventDefault();if(this.results_showing)this.result_select(evt);break;case 27:if(this.results_showing)this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;
default:this.results_search();break}};AbstractChosen.prototype.clipboard_event_checker=function(evt){if(this.is_disabled)return;return setTimeout(function(_this){return function(){return _this.results_search()}}(this),50)};AbstractChosen.prototype.container_width=function(){if(this.options.width!=null)return this.options.width;else return this.form_field.offsetWidth+"px"};AbstractChosen.prototype.include_option_in_results=function(option){if(this.is_multiple&&(!this.display_selected_options&&option.selected))return false;
if(!this.display_disabled_options&&option.disabled)return false;if(option.empty)return false;return true};AbstractChosen.prototype.search_results_touchstart=function(evt){this.touch_started=true;return this.search_results_mouseover(evt)};AbstractChosen.prototype.search_results_touchmove=function(evt){this.touch_started=false;return this.search_results_mouseout(evt)};AbstractChosen.prototype.search_results_touchend=function(evt){if(this.touch_started)return this.search_results_mouseup(evt)};AbstractChosen.prototype.outerHTML=
function(element){var tmp;if(element.outerHTML)return element.outerHTML;tmp=document.createElement("div");tmp.appendChild(element);return tmp.innerHTML};AbstractChosen.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'};
AbstractChosen.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'};AbstractChosen.prototype.get_no_results_html=function(terms){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(terms)+"</span>\n</li>"};AbstractChosen.browser_is_supported=
function(){if("Microsoft Internet Explorer"===window.navigator.appName)return document.documentMode>=8;if(/iP(od|hone)/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))return true;else if(/IEMobile/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent))return false;return true};AbstractChosen.default_multiple_text="Select Some Options";AbstractChosen.default_single_text=
"Select an Option";AbstractChosen.default_no_result_text="No results match";return AbstractChosen}();$=jQuery;$.fn.extend({chosen:function(options){if(!AbstractChosen.browser_is_supported())return this;return this.each(function(input_field){var $this,chosen;$this=$(this);chosen=$this.data("chosen");if(options==="destroy"){if(chosen instanceof Chosen)chosen.destroy();return}if(!(chosen instanceof Chosen))$this.data("chosen",new Chosen(this,options))})}});Chosen=function(superClass){extend(Chosen,superClass);
function Chosen(){return Chosen.__super__.constructor.apply(this,arguments)}Chosen.prototype.setup=function(){this.form_field_jq=$(this.form_field);return this.current_selectedIndex=this.form_field.selectedIndex};Chosen.prototype.set_up_html=function(){var container_classes,container_props;container_classes=["chosen-container"];container_classes.push("chosen-container-"+(this.is_multiple?"multi":"single"));if(this.inherit_select_classes&&this.form_field.className)container_classes.push(this.form_field.className);
if(this.is_rtl)container_classes.push("chosen-rtl");container_props={"class":container_classes.join(" "),"title":this.form_field.title};if(this.form_field.id.length)container_props.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen";this.container=$("<div />",container_props);this.container.width(this.container_width());if(this.is_multiple)this.container.html(this.get_multi_html());else this.container.html(this.get_single_html());this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find("div.chosen-drop").first();
this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chosen-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chosen-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chosen-search").first();this.selected_item=this.container.find(".chosen-single").first()}this.results_build();
this.set_tab_index();return this.set_label_behavior()};Chosen.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})};Chosen.prototype.register_observers=function(){this.container.on("touchstart.chosen",function(_this){return function(evt){_this.container_mousedown(evt)}}(this));this.container.on("touchend.chosen",function(_this){return function(evt){_this.container_mouseup(evt)}}(this));this.container.on("mousedown.chosen",function(_this){return function(evt){_this.container_mousedown(evt)}}(this));
this.container.on("mouseup.chosen",function(_this){return function(evt){_this.container_mouseup(evt)}}(this));this.container.on("mouseenter.chosen",function(_this){return function(evt){_this.mouse_enter(evt)}}(this));this.container.on("mouseleave.chosen",function(_this){return function(evt){_this.mouse_leave(evt)}}(this));this.search_results.on("mouseup.chosen",function(_this){return function(evt){_this.search_results_mouseup(evt)}}(this));this.search_results.on("mouseover.chosen",function(_this){return function(evt){_this.search_results_mouseover(evt)}}(this));
this.search_results.on("mouseout.chosen",function(_this){return function(evt){_this.search_results_mouseout(evt)}}(this));this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",function(_this){return function(evt){_this.search_results_mousewheel(evt)}}(this));this.search_results.on("touchstart.chosen",function(_this){return function(evt){_this.search_results_touchstart(evt)}}(this));this.search_results.on("touchmove.chosen",function(_this){return function(evt){_this.search_results_touchmove(evt)}}(this));
this.search_results.on("touchend.chosen",function(_this){return function(evt){_this.search_results_touchend(evt)}}(this));this.form_field_jq.on("chosen:updated.chosen",function(_this){return function(evt){_this.results_update_field(evt)}}(this));this.form_field_jq.on("chosen:activate.chosen",function(_this){return function(evt){_this.activate_field(evt)}}(this));this.form_field_jq.on("chosen:open.chosen",function(_this){return function(evt){_this.container_mousedown(evt)}}(this));this.form_field_jq.on("chosen:close.chosen",
function(_this){return function(evt){_this.close_field(evt)}}(this));this.search_field.on("blur.chosen",function(_this){return function(evt){_this.input_blur(evt)}}(this));this.search_field.on("keyup.chosen",function(_this){return function(evt){_this.keyup_checker(evt)}}(this));this.search_field.on("keydown.chosen",function(_this){return function(evt){_this.keydown_checker(evt)}}(this));this.search_field.on("focus.chosen",function(_this){return function(evt){_this.input_focus(evt)}}(this));this.search_field.on("cut.chosen",
function(_this){return function(evt){_this.clipboard_event_checker(evt)}}(this));this.search_field.on("paste.chosen",function(_this){return function(evt){_this.clipboard_event_checker(evt)}}(this));if(this.is_multiple)return this.search_choices.on("click.chosen",function(_this){return function(evt){_this.choices_click(evt)}}(this));else return this.container.on("click.chosen",function(evt){evt.preventDefault()})};Chosen.prototype.destroy=function(){$(this.container[0].ownerDocument).off("click.chosen",
this.click_test_action);if(this.form_field_label.length>0)this.form_field_label.off("click.chosen");if(this.search_field[0].tabIndex)this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex;this.container.remove();this.form_field_jq.removeData("chosen");return this.form_field_jq.show()};Chosen.prototype.search_field_disabled=function(){this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled");this.container.toggleClass("chosen-disabled",this.is_disabled);
this.search_field[0].disabled=this.is_disabled;if(!this.is_multiple)this.selected_item.off("focus.chosen",this.activate_field);if(this.is_disabled)return this.close_field();else if(!this.is_multiple)return this.selected_item.on("focus.chosen",this.activate_field)};Chosen.prototype.container_mousedown=function(evt){var ref;if(this.is_disabled)return;if(this.is_multiple){if(evt&&(ref=evt.type)==="mousedown"&&!this.results_showing)evt.preventDefault()}else if(evt&&((ref=evt.type)==="mousedown"||ref===
"touchstart")&&!this.results_showing)evt.preventDefault();if(!(evt!=null&&$(evt.target).hasClass("search-choice-close"))){if(!this.active_field){if(this.is_multiple)this.search_field.val("");$(this.container[0].ownerDocument).on("click.chosen",this.click_test_action);this.results_show()}else if(!this.is_multiple&&evt&&($(evt.target)[0]===this.selected_item[0]||$(evt.target).parents("a.chosen-single").length)){evt.preventDefault();this.results_toggle()}return this.activate_field()}};Chosen.prototype.container_mouseup=
function(evt){if(evt.target.nodeName==="ABBR"&&!this.is_disabled)return this.results_reset(evt)};Chosen.prototype.search_results_mousewheel=function(evt){var delta;if(evt.originalEvent)delta=evt.originalEvent.deltaY||-evt.originalEvent.wheelDelta||evt.originalEvent.detail;if(delta!=null){evt.preventDefault();if(evt.type==="DOMMouseScroll")delta=delta*40;return this.search_results.scrollTop(delta+this.search_results.scrollTop())}};Chosen.prototype.blur_test=function(evt){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()};
Chosen.prototype.close_field=function(){$(this.container[0].ownerDocument).off("click.chosen",this.click_test_action);this.active_field=false;this.results_hide();this.container.removeClass("chosen-container-active");this.clear_backstroke();this.show_search_field_default();this.search_field_scale();return this.search_field.blur()};Chosen.prototype.activate_field=function(){if(this.is_disabled)return;this.container.addClass("chosen-container-active");this.active_field=true;this.search_field.val(this.search_field.val());
return this.search_field.focus()};Chosen.prototype.test_active_click=function(evt){var active_container;active_container=$(evt.target).closest(".chosen-container");if(active_container.length&&this.container[0]===active_container[0])return this.active_field=true;else return this.close_field()};Chosen.prototype.results_build=function(){this.parsing=true;this.selected_option_count=null;this.results_data=SelectParser.select_to_array(this.form_field);if(this.is_multiple)this.search_choices.find("li.search-choice").remove();
else{this.single_set_selected_text();if(this.disable_search||this.form_field.options.length<=this.disable_search_threshold){this.search_field[0].readOnly=true;this.container.addClass("chosen-container-single-nosearch")}else{this.search_field[0].readOnly=false;this.container.removeClass("chosen-container-single-nosearch")}}this.update_results_content(this.results_option_build({first:true}));this.search_field_disabled();this.show_search_field_default();this.search_field_scale();return this.parsing=
false};Chosen.prototype.result_do_highlight=function(el){var high_bottom,high_top,maxHeight,visible_bottom,visible_top;if(el.length){this.result_clear_highlight();this.result_highlight=el;this.result_highlight.addClass("highlighted");maxHeight=parseInt(this.search_results.css("maxHeight"),10);visible_top=this.search_results.scrollTop();visible_bottom=maxHeight+visible_top;high_top=this.result_highlight.position().top+this.search_results.scrollTop();high_bottom=high_top+this.result_highlight.outerHeight();
if(high_bottom>=visible_bottom)return this.search_results.scrollTop(high_bottom-maxHeight>0?high_bottom-maxHeight:0);else if(high_top<visible_top)return this.search_results.scrollTop(high_top)}};Chosen.prototype.result_clear_highlight=function(){if(this.result_highlight)this.result_highlight.removeClass("highlighted");return this.result_highlight=null};Chosen.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",
{chosen:this});return false}this.container.addClass("chosen-with-drop");this.results_showing=true;this.search_field.focus();this.search_field.val(this.get_search_field_value());this.winnow_results();return this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this})};Chosen.prototype.update_results_content=function(content){return this.search_results.html(content)};Chosen.prototype.results_hide=function(){if(this.results_showing){this.result_clear_highlight();this.container.removeClass("chosen-with-drop");
this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})}return this.results_showing=false};Chosen.prototype.set_tab_index=function(el){var ti;if(this.form_field.tabIndex){ti=this.form_field.tabIndex;this.form_field.tabIndex=-1;return this.search_field[0].tabIndex=ti}};Chosen.prototype.set_label_behavior=function(){this.form_field_label=this.form_field_jq.parents("label");if(!this.form_field_label.length&&this.form_field.id.length)this.form_field_label=$("label[for='"+this.form_field.id+
"']");if(this.form_field_label.length>0)return this.form_field_label.on("click.chosen",this.label_click_handler)};Chosen.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices_count()<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};Chosen.prototype.search_results_mouseup=function(evt){var target;target=$(evt.target).hasClass("active-result")?
$(evt.target):$(evt.target).parents(".active-result").first();if(target.length){this.result_highlight=target;this.result_select(evt);return this.search_field.focus()}};Chosen.prototype.search_results_mouseover=function(evt){var target;target=$(evt.target).hasClass("active-result")?$(evt.target):$(evt.target).parents(".active-result").first();if(target)return this.result_do_highlight(target)};Chosen.prototype.search_results_mouseout=function(evt){if($(evt.target).hasClass("active-result")||$(evt.target).parents(".active-result").first())return this.result_clear_highlight()};
Chosen.prototype.choice_build=function(item){var choice,close_link;choice=$("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(item)+"</span>");if(item.disabled)choice.addClass("search-choice-disabled");else{close_link=$("<a />",{"class":"search-choice-close","data-option-array-index":item.array_index});close_link.on("click.chosen",function(_this){return function(evt){return _this.choice_destroy_link_click(evt)}}(this));choice.append(close_link)}return this.search_container.before(choice)};
Chosen.prototype.choice_destroy_link_click=function(evt){evt.preventDefault();evt.stopPropagation();if(!this.is_disabled)return this.choice_destroy($(evt.target))};Chosen.prototype.choice_destroy=function(link){if(this.result_deselect(link[0].getAttribute("data-option-array-index"))){if(this.active_field)this.search_field.focus();else this.show_search_field_default();if(this.is_multiple&&this.choices_count()>0&&this.get_search_field_value().length<1)this.results_hide();link.parents("li").first().remove();
return this.search_field_scale()}};Chosen.prototype.results_reset=function(){this.reset_single_select_options();this.form_field.options[0].selected=true;this.single_set_selected_text();this.show_search_field_default();this.results_reset_cleanup();this.trigger_form_field_change();if(this.active_field)return this.results_hide()};Chosen.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove()};Chosen.prototype.result_select=
function(evt){var high,item;if(this.result_highlight){high=this.result_highlight;this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",{chosen:this});return false}if(this.is_multiple)high.removeClass("active-result");else this.reset_single_select_options();high.addClass("result-selected");item=this.results_data[high[0].getAttribute("data-option-array-index")];item.selected=true;this.form_field.options[item.options_index].selected=
true;this.selected_option_count=null;if(this.is_multiple)this.choice_build(item);else this.single_set_selected_text(this.choice_label(item));if(this.is_multiple&&(!this.hide_results_on_select||(evt.metaKey||evt.ctrlKey)))if(evt.metaKey||evt.ctrlKey)this.winnow_results({skip_highlight:true});else{this.search_field.val("");this.winnow_results()}else{this.results_hide();this.show_search_field_default()}if(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)this.trigger_form_field_change({selected:this.form_field.options[item.options_index].value});
this.current_selectedIndex=this.form_field.selectedIndex;evt.preventDefault();return this.search_field_scale()}};Chosen.prototype.single_set_selected_text=function(text){if(text==null)text=this.default_text;if(text===this.default_text)this.selected_item.addClass("chosen-default");else{this.single_deselect_control_build();this.selected_item.removeClass("chosen-default")}return this.selected_item.find("span").html(text)};Chosen.prototype.result_deselect=function(pos){var result_data;result_data=this.results_data[pos];
if(!this.form_field.options[result_data.options_index].disabled){result_data.selected=false;this.form_field.options[result_data.options_index].selected=false;this.selected_option_count=null;this.result_clear_highlight();if(this.results_showing)this.winnow_results();this.trigger_form_field_change({deselected:this.form_field.options[result_data.options_index].value});this.search_field_scale();return true}else return false};Chosen.prototype.single_deselect_control_build=function(){if(!this.allow_single_deselect)return;
if(!this.selected_item.find("abbr").length)this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>');return this.selected_item.addClass("chosen-single-with-deselect")};Chosen.prototype.get_search_field_value=function(){return this.search_field.val()};Chosen.prototype.get_search_text=function(){return $.trim(this.get_search_field_value())};Chosen.prototype.escape_html=function(text){return $("<div/>").text(text).html()};Chosen.prototype.winnow_results_set_highlight=
function(){var do_high,selected_results;selected_results=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];do_high=selected_results.length?selected_results.first():this.search_results.find(".active-result").first();if(do_high!=null)return this.result_do_highlight(do_high)};Chosen.prototype.no_results=function(terms){var no_results_html;no_results_html=this.get_no_results_html(terms);this.search_results.append(no_results_html);return this.form_field_jq.trigger("chosen:no_results",
{chosen:this})};Chosen.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};Chosen.prototype.keydown_arrow=function(){var next_sib;if(this.results_showing&&this.result_highlight){next_sib=this.result_highlight.nextAll("li.active-result").first();if(next_sib)return this.result_do_highlight(next_sib)}else return this.results_show()};Chosen.prototype.keyup_arrow=function(){var prev_sibs;if(!this.results_showing&&!this.is_multiple)return this.results_show();else if(this.result_highlight){prev_sibs=
this.result_highlight.prevAll("li.active-result");if(prev_sibs.length)return this.result_do_highlight(prev_sibs.first());else{if(this.choices_count()>0)this.results_hide();return this.result_clear_highlight()}}};Chosen.prototype.keydown_backstroke=function(){var next_available_destroy;if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{next_available_destroy=this.search_container.siblings("li.search-choice").last();if(next_available_destroy.length&&
!next_available_destroy.hasClass("search-choice-disabled")){this.pending_backstroke=next_available_destroy;if(this.single_backstroke_delete)return this.keydown_backstroke();else return this.pending_backstroke.addClass("search-choice-focus")}}};Chosen.prototype.clear_backstroke=function(){if(this.pending_backstroke)this.pending_backstroke.removeClass("search-choice-focus");return this.pending_backstroke=null};Chosen.prototype.search_field_scale=function(){var div,i,len,style,style_block,styles,width;
if(!this.is_multiple)return;style_block={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"};styles=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"];for(i=0,len=styles.length;i<len;i++){style=styles[i];style_block[style]=this.search_field.css(style)}div=$("<div />").css(style_block);div.text(this.get_search_field_value());$("body").append(div);width=div.width()+25;div.remove();if(this.container.is(":visible"))width=Math.min(this.container.outerWidth()-
10,width);return this.search_field.width(width)};Chosen.prototype.trigger_form_field_change=function(extra){this.form_field_jq.trigger("input",extra);return this.form_field_jq.trigger("change",extra)};return Chosen}(AbstractChosen)}).call(this);